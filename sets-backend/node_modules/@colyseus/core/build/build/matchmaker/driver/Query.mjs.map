{"version":3,"file":"Query.mjs","sources":["../../../matchmaker/driver/Query.mjs"],"sourcesContent":["class Query {\n    $rooms;\n    conditions;\n    constructor(rooms, conditions) {\n        this.$rooms = rooms.slice(0);\n        this.conditions = conditions;\n    }\n    sort(options) {\n        this.$rooms = this.$rooms.sort((room1, room2) => {\n            for (const field in options) {\n                if (options.hasOwnProperty(field)) {\n                    const direction = options[field];\n                    const isAscending = (direction === 1 || direction === 'asc' || direction === 'ascending');\n                    if (isAscending) {\n                        if (room1[field] > room2[field]) {\n                            return 1;\n                        }\n                        if (room1[field] < room2[field]) {\n                            return -1;\n                        }\n                    }\n                    else {\n                        if (room1[field] > room2[field]) {\n                            return -1;\n                        }\n                        if (room1[field] < room2[field]) {\n                            return 1;\n                        }\n                    }\n                }\n            }\n        });\n    }\n    then(resolve, reject) {\n        const result = this.$rooms.find(((room) => {\n            for (const field in this.conditions) {\n                if (this.conditions.hasOwnProperty(field) &&\n                    room[field] !== this.conditions[field]) {\n                    return false;\n                }\n            }\n            return true;\n        }));\n        return resolve(result);\n    }\n}\n\nexport { Query };\n//# sourceMappingURL=Query.mjs.map\n"],"names":[],"mappings":"AAAA,MAAM,KAAK,CAAC;AACZ,IAAI,MAAM,CAAC;AACX,IAAI,UAAU,CAAC;AACf,IAAI,WAAW,CAAC,KAAK,EAAE,UAAU,EAAE;AACnC,QAAQ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACrC,QAAQ,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;AACrC,KAAK;AACL,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,KAAK,KAAK;AACzD,YAAY,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE;AACzC,gBAAgB,IAAI,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;AACnD,oBAAoB,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AACrD,oBAAoB,MAAM,WAAW,IAAI,SAAS,KAAK,CAAC,IAAI,SAAS,KAAK,KAAK,IAAI,SAAS,KAAK,WAAW,CAAC,CAAC;AAC9G,oBAAoB,IAAI,WAAW,EAAE;AACrC,wBAAwB,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE;AACzD,4BAA4B,OAAO,CAAC,CAAC;AACrC,yBAAyB;AACzB,wBAAwB,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE;AACzD,4BAA4B,OAAO,CAAC,CAAC,CAAC;AACtC,yBAAyB;AACzB,qBAAqB;AACrB,yBAAyB;AACzB,wBAAwB,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE;AACzD,4BAA4B,OAAO,CAAC,CAAC,CAAC;AACtC,yBAAyB;AACzB,wBAAwB,IAAI,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE;AACzD,4BAA4B,OAAO,CAAC,CAAC;AACrC,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE;AAC1B,QAAQ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK;AACnD,YAAY,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,UAAU,EAAE;AACjD,gBAAgB,IAAI,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC;AACzD,oBAAoB,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;AAC5D,oBAAoB,OAAO,KAAK,CAAC;AACjC,iBAAiB;AACjB,aAAa;AACb,YAAY,OAAO,IAAI,CAAC;AACxB,SAAS,EAAE,CAAC;AACZ,QAAQ,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC;AAC/B,KAAK;AACL;;;;"}